#!/usr/bin/env bash

# prompt="dmenu -l 7 "
prompt="rofi -dmenu -theme ~/.config/rofi/launchers/type-1/power.rasi"

uptime=$(uptime -p | sed -e 's/up //g')
dwm_pid="$(pidof dwm) || $(pidof hyprland)"

shutdown=" Shutdown"
reboot=" Restart"
suspend="鈴 Suspend"
lock=" Lock"
logout="﫼 Logout"
cancel="窱 Cancel"

# option="$cancel\n$shutdown\n$reboot\n$suspend\n$lock\n$logout"
option="$cancel\n$shutdown\n$reboot\n$lock\n$logout"

select="$(echo -e "$option" | $prompt -p "Uptime - $uptime")"

case $select in
	$shutdown)
		loginctl poweroff
		;;
	$reboot)
		loginctl reboot
		;;
	# $suspend)
	# 	doas ~/scripts/suspend.sh
	# 	~/scripts/lock.sh
	# 	;;
	$lock)
		~/scripts/lock.sh
		;;
	$logout)
		loginctl terminate-session 1
esac
